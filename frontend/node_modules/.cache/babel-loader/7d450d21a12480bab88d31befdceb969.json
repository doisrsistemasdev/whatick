{"ast":null,"code":"import _slicedToArray from\"/Users/jucenirleonardo/Documents/GitHub/whaticket_saas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/jucenirleonardo/Documents/GitHub/whaticket_saas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Typography from\"@material-ui/core/Typography\";import IconButton from\"@material-ui/core/IconButton\";import CloseIcon from\"@material-ui/icons/Close\";import Drawer from\"@material-ui/core/Drawer\";import Link from\"@material-ui/core/Link\";import InputLabel from\"@material-ui/core/InputLabel\";import Avatar from\"@material-ui/core/Avatar\";import Button from\"@material-ui/core/Button\";import Paper from\"@material-ui/core/Paper\";import CreateIcon from'@material-ui/icons/Create';import{i18n}from\"../../translate/i18n\";import ContactDrawerSkeleton from\"../ContactDrawerSkeleton\";import MarkdownWrapper from\"../MarkdownWrapper\";import{CardHeader}from\"@material-ui/core\";import{ContactForm}from\"../ContactForm\";import ContactModal from\"../ContactModal\";import{ContactNotes}from\"../ContactNotes\";var drawerWidth=320;var useStyles=makeStyles(function(theme){return{drawer:{width:drawerWidth,flexShrink:0},drawerPaper:{width:drawerWidth,display:\"flex\",borderTop:\"1px solid rgba(0, 0, 0, 0.12)\",borderRight:\"1px solid rgba(0, 0, 0, 0.12)\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:\"flex\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",backgroundColor:\"#eee\",alignItems:\"center\",padding:theme.spacing(0,1),minHeight:\"73px\",justifyContent:\"flex-start\"},content:_objectSpread({display:\"flex\",backgroundColor:\"#eee\",flexDirection:\"column\",padding:\"8px 0px 8px 8px\",height:\"100%\",overflowY:\"scroll\"},theme.scrollbarStyles),contactAvatar:{margin:15,width:100,height:100},contactHeader:{display:\"flex\",padding:8,flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",\"& > *\":{margin:4}},contactDetails:{marginTop:8,padding:8,display:\"flex\",flexDirection:\"column\"},contactExtraInfo:{marginTop:4,padding:6}};});var ContactDrawer=function ContactDrawer(_ref){var _contact$extraInfo;var open=_ref.open,handleDrawerClose=_ref.handleDrawerClose,contact=_ref.contact,ticket=_ref.ticket,loading=_ref.loading;var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalOpen=_useState2[0],setModalOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openForm=_useState4[0],setOpenForm=_useState4[1];useEffect(function(){setOpenForm(false);},[open,contact]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Drawer,{className:classes.drawer,variant:\"persistent\",anchor:\"right\",open:open,PaperProps:{style:{position:\"absolute\"}},BackdropProps:{style:{position:\"absolute\"}},ModalProps:{container:document.getElementById(\"drawer-container\"),style:{position:\"absolute\"}},classes:{paper:classes.drawerPaper}},/*#__PURE__*/React.createElement(\"div\",{className:classes.header},/*#__PURE__*/React.createElement(IconButton,{onClick:handleDrawerClose},/*#__PURE__*/React.createElement(CloseIcon,null)),/*#__PURE__*/React.createElement(Typography,{style:{justifySelf:\"center\"}},i18n.t(\"contactDrawer.header\"))),loading?/*#__PURE__*/React.createElement(ContactDrawerSkeleton,{classes:classes}):/*#__PURE__*/React.createElement(\"div\",{className:classes.content},/*#__PURE__*/React.createElement(Paper,{square:true,variant:\"outlined\",className:classes.contactHeader},/*#__PURE__*/React.createElement(CardHeader,{onClick:function onClick(){},style:{cursor:\"pointer\",width:'100%'},titleTypographyProps:{noWrap:true},subheaderTypographyProps:{noWrap:true},avatar:/*#__PURE__*/React.createElement(Avatar,{src:contact.profilePicUrl,alt:\"contact_image\",style:{width:60,height:60}}),title:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Typography,{onClick:function onClick(){return setOpenForm(true);}},contact.name,/*#__PURE__*/React.createElement(CreateIcon,{style:{fontSize:16,marginLeft:5}}))),subheader:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Typography,{style:{fontSize:12}},/*#__PURE__*/React.createElement(Link,{href:\"tel:\".concat(contact.number)},contact.number)),/*#__PURE__*/React.createElement(Typography,{style:{fontSize:12}},/*#__PURE__*/React.createElement(Link,{href:\"mailto:\".concat(contact.email)},contact.email)))}),/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",color:\"primary\",onClick:function onClick(){return setModalOpen(!openForm);},style:{fontSize:12}},i18n.t(\"contactDrawer.buttons.edit\")),contact.id&&openForm&&/*#__PURE__*/React.createElement(ContactForm,{initialContact:contact,onCancel:function onCancel(){return setOpenForm(false);}})),/*#__PURE__*/React.createElement(Paper,{square:true,variant:\"outlined\",className:classes.contactDetails},/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\",style:{marginBottom:10}},i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")),/*#__PURE__*/React.createElement(ContactNotes,{ticket:ticket})),/*#__PURE__*/React.createElement(Paper,{square:true,variant:\"outlined\",className:classes.contactDetails},/*#__PURE__*/React.createElement(ContactModal,{open:modalOpen,onClose:function onClose(){return setModalOpen(false);},contactId:contact.id}),/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\"},i18n.t(\"contactDrawer.extraInfo\")),contact===null||contact===void 0?void 0:(_contact$extraInfo=contact.extraInfo)===null||_contact$extraInfo===void 0?void 0:_contact$extraInfo.map(function(info){return/*#__PURE__*/React.createElement(Paper,{key:info.id,square:true,variant:\"outlined\",className:classes.contactExtraInfo},/*#__PURE__*/React.createElement(InputLabel,null,info.name),/*#__PURE__*/React.createElement(Typography,{component:\"div\",noWrap:true,style:{paddingTop:2}},/*#__PURE__*/React.createElement(MarkdownWrapper,null,info.value)));})))));};export default ContactDrawer;","map":null,"metadata":{},"sourceType":"module"}