{"ast":null,"code":"var _jsxFileName = \"/Users/jucenirleonardo/Documents/GitHub/whaticket_saas/frontend/src/components/MessageInputCustom/index.js\";\nimport React, { useState, useEffect, useContext, useRef } from \"react\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport { FormControlLabel, Switch } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { isString, isEmpty, isObject, has } from \"lodash\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\nconst Mp3Recorder = new MicRecorder({\n  bitRate: 128\n});\nconst useStyles = makeStyles(theme => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\"\n  },\n  newMessageBox: {\n    background: \"#eee\",\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\"\n  },\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1\n  },\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\"\n  },\n  sendMessageIcons: {\n    color: \"grey\"\n  },\n  uploadInput: {\n    display: \"none\"\n  },\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\"\n  },\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\"\n  },\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12\n  },\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\"\n  },\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\"\n  },\n  cancelAudioIcon: {\n    color: \"red\"\n  },\n  sendAudioIcon: {\n    color: \"green\"\n  },\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7\n  },\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\"\n  },\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\"\n  },\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\"\n  },\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\"\n  },\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500\n  }\n}));\nconst EmojiOptions = props => {\n  const {\n    disabled,\n    showEmoji,\n    setShowEmoji,\n    handleAddEmoji\n  } = props;\n  const classes = useStyles();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"emojiPicker\",\n    component: \"span\",\n    disabled: disabled,\n    onClick: e => setShowEmoji(prevState => !prevState),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MoodIcon, {\n    className: classes.sendMessageIcons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  })), showEmoji ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.emojiBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Picker, {\n    perLine: 16,\n    showPreview: false,\n    showSkinTones: false,\n    onSelect: handleAddEmoji,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  })) : null);\n};\nconst SignSwitch = props => {\n  const {\n    width,\n    setSignMessage,\n    signMessage\n  } = props;\n  if (isWidthUp(\"md\", width)) {\n    return /*#__PURE__*/React.createElement(FormControlLabel, {\n      style: {\n        marginRight: 7,\n        color: \"gray\"\n      },\n      label: i18n.t(\"messagesInput.signMessage\"),\n      labelPlacement: \"start\",\n      control: /*#__PURE__*/React.createElement(Switch, {\n        size: \"small\",\n        checked: signMessage,\n        onChange: e => {\n          setSignMessage(e.target.checked);\n        },\n        name: \"showAllTickets\",\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 7\n      }\n    });\n  }\n  return null;\n};\nconst FileInput = props => {\n  const {\n    handleChangeMedias,\n    disableOption\n  } = props;\n  const classes = useStyles();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"input\", {\n    multiple: true,\n    type: \"file\",\n    id: \"upload-button\",\n    disabled: disableOption(),\n    className: classes.uploadInput,\n    onChange: handleChangeMedias,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"upload-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"upload\",\n    component: \"span\",\n    disabled: disableOption(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AttachFileIcon, {\n    className: classes.sendMessageIcons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 11\n    }\n  }))));\n};\nconst ActionButtons = props => {\n  const {\n    inputMessage,\n    loading,\n    recording,\n    ticketStatus,\n    handleSendMessage,\n    handleCancelAudio,\n    handleUploadAudio,\n    handleStartRecording\n  } = props;\n  const classes = useStyles();\n  if (inputMessage) {\n    return /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"sendMessage\",\n      component: \"span\",\n      onClick: handleSendMessage,\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SendIcon, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }\n    }));\n  } else if (recording) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.recorderWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"cancelRecording\",\n      component: \"span\",\n      fontSize: \"large\",\n      disabled: loading,\n      onClick: handleCancelAudio,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(HighlightOffIcon, {\n      className: classes.cancelAudioIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }\n    })), loading ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      className: classes.audioLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 13\n      }\n    })) : /*#__PURE__*/React.createElement(RecordingTimer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"sendRecordedAudio\",\n      component: \"span\",\n      onClick: handleUploadAudio,\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CheckCircleOutlineIcon, {\n      className: classes.sendAudioIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }\n    })));\n  } else {\n    return /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"showRecorder\",\n      component: \"span\",\n      disabled: loading || ticketStatus !== \"open\",\n      onClick: handleStartRecording,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(MicIcon, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }\n    }));\n  }\n};\nconst CustomInput = props => {\n  const {\n    loading,\n    inputRef,\n    ticketStatus,\n    inputMessage,\n    setInputMessage,\n    handleSendMessage,\n    handleInputPaste,\n    disableOption\n  } = props;\n  const classes = useStyles();\n  const [quickMessages, setQuickMessages] = useState([]);\n  const [options, setOptions] = useState([]);\n  const [popupOpen, setPopupOpen] = useState(false);\n  const {\n    user\n  } = useContext(AuthContext);\n  const {\n    list: listQuickMessages\n  } = useQuickMessages();\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const messages = await listQuickMessages({\n        companyId,\n        userId: user.id\n      });\n      const options = messages.map(m => {\n        let truncatedMessage = m.message;\n        if (isString(truncatedMessage) && truncatedMessage.length > 35) {\n          truncatedMessage = m.message.substring(0, 35) + \"...\";\n        }\n        return {\n          value: m.message,\n          label: `/${m.shortcode} - ${truncatedMessage}`\n        };\n      });\n      setQuickMessages(options);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (isString(inputMessage) && !isEmpty(inputMessage) && inputMessage.length > 1) {\n      const firstWord = inputMessage.charAt(0);\n      setPopupOpen(firstWord.indexOf(\"/\") > -1);\n      const filteredOptions = quickMessages.filter(m => m.label.indexOf(inputMessage) > -1);\n      setOptions(filteredOptions);\n    } else {\n      setPopupOpen(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputMessage]);\n  const onKeyPress = e => {\n    if (loading || e.shiftKey) return;else if (e.key === \"Enter\") {\n      handleSendMessage();\n    }\n  };\n  const onPaste = e => {\n    if (ticketStatus === \"open\") {\n      handleInputPaste(e);\n    }\n  };\n  const renderPlaceholder = () => {\n    if (ticketStatus === \"open\") {\n      return i18n.t(\"messagesInput.placeholderOpen\");\n    }\n    return i18n.t(\"messagesInput.placeholderClosed\");\n  };\n  const setInputRef = input => {\n    if (input) {\n      input.focus();\n      inputRef.current = input;\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.messageInputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Autocomplete, {\n    freeSolo: true,\n    open: popupOpen,\n    id: \"grouped-demo\",\n    value: inputMessage,\n    options: options,\n    closeIcon: null,\n    getOptionLabel: option => {\n      if (isObject(option)) {\n        return option.label;\n      } else {\n        return option;\n      }\n    },\n    onChange: (event, opt) => {\n      if (isObject(opt) && has(opt, \"value\")) {\n        setInputMessage(opt.value);\n        setTimeout(() => {\n          inputRef.current.scrollTop = inputRef.current.scrollHeight;\n        }, 200);\n      }\n    },\n    onInputChange: (event, opt, reason) => {\n      if (reason === \"input\") {\n        setInputMessage(event.target.value);\n      }\n    },\n    onPaste: onPaste,\n    onKeyPress: onKeyPress,\n    style: {\n      width: \"100%\"\n    },\n    renderInput: params => {\n      const {\n        InputLabelProps,\n        InputProps,\n        ...rest\n      } = params;\n      return /*#__PURE__*/React.createElement(InputBase, Object.assign({}, params.InputProps, rest, {\n        disabled: disableOption(),\n        inputRef: setInputRef,\n        placeholder: renderPlaceholder(),\n        multiline: true,\n        className: classes.messageInput,\n        maxRows: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 7\n    }\n  }));\n};\nconst MessageInputCustom = props => {\n  var _medias$;\n  const {\n    ticketStatus,\n    ticketId\n  } = props;\n  const classes = useStyles();\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const inputRef = useRef();\n  const {\n    setReplyingMessage,\n    replyingMessage\n  } = useContext(ReplyMessageContext);\n  const {\n    user\n  } = useContext(AuthContext);\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  // const handleChangeInput = e => {\n  // \tif (isObject(e) && has(e, 'value')) {\n  // \t\tsetInputMessage(e.value);\n  // \t} else {\n  // \t\tsetInputMessage(e.target.value)\n  // \t}\n  // };\n\n  const handleAddEmoji = e => {\n    let emoji = e.native;\n    setInputMessage(prevState => prevState + emoji);\n  };\n  const handleChangeMedias = e => {\n    if (!e.target.files) {\n      return;\n    }\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n  const handleInputPaste = e => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n  const handleUploadMedia = async e => {\n    setLoading(true);\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach(media => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n    setLoading(false);\n    setMedias([]);\n  };\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage ? `*${user === null || user === void 0 ? void 0 : user.name}:*\\n${inputMessage.trim()}` : inputMessage.trim(),\n      quotedMsg: replyingMessage\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n    setRecording(false);\n    setLoading(false);\n  };\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const disableOption = () => {\n    return loading || recording || ticketStatus !== \"open\";\n  };\n  const renderReplyingMessage = message => {\n    var _message$contact;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.replyginMsgWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.replyginMsgContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: clsx(classes.replyginContactMsgSideColor, {\n        [classes.replyginSelfMsgSideColor]: !message.fromMe\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.replyginMsgBody,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 11\n      }\n    }, !message.fromMe && /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.messageContactName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 15\n      }\n    }, (_message$contact = message.contact) === null || _message$contact === void 0 ? void 0 : _message$contact.name), message.body)), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"showRecorder\",\n      component: \"span\",\n      disabled: loading || ticketStatus !== \"open\",\n      onClick: () => setReplyingMessage(null),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ClearIcon, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 11\n      }\n    })));\n  };\n  if (medias.length > 0) return /*#__PURE__*/React.createElement(Paper, {\n    elevation: 0,\n    square: true,\n    className: classes.viewMediaInputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 640,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"cancel-upload\",\n    component: \"span\",\n    onClick: e => setMedias([]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CancelIcon, {\n    className: classes.sendMessageIcons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 646,\n      columnNumber: 11\n    }\n  })), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    className: classes.circleLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 11\n    }\n  }, (_medias$ = medias[0]) === null || _medias$ === void 0 ? void 0 : _medias$.name), /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"send-upload\",\n    component: \"span\",\n    onClick: handleUploadMedia,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SendIcon, {\n    className: classes.sendMessageIcons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 11\n    }\n  })));else {\n    return /*#__PURE__*/React.createElement(Paper, {\n      square: true,\n      elevation: 0,\n      className: classes.mainWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 7\n      }\n    }, replyingMessage && renderReplyingMessage(replyingMessage), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.newMessageBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(EmojiOptions, {\n      disabled: disableOption(),\n      handleAddEmoji: handleAddEmoji,\n      showEmoji: showEmoji,\n      setShowEmoji: setShowEmoji,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(FileInput, {\n      disableOption: disableOption,\n      handleChangeMedias: handleChangeMedias,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(SignSwitch, {\n      width: props.width,\n      setSignMessage: setSignMessage,\n      signMessage: signMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 686,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(CustomInput, {\n      loading: loading,\n      inputRef: inputRef,\n      ticketStatus: ticketStatus,\n      inputMessage: inputMessage,\n      setInputMessage: setInputMessage\n      // handleChangeInput={handleChangeInput}\n      ,\n      handleSendMessage: handleSendMessage,\n      handleInputPaste: handleInputPaste,\n      disableOption: disableOption,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ActionButtons, {\n      inputMessage: inputMessage,\n      loading: loading,\n      recording: recording,\n      ticketStatus: ticketStatus,\n      handleSendMessage: handleSendMessage,\n      handleCancelAudio: handleCancelAudio,\n      handleUploadAudio: handleUploadAudio,\n      handleStartRecording: handleStartRecording,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 11\n      }\n    })));\n  }\n};\nexport default withWidth()(MessageInputCustom);","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","withWidth","isWidthUp","Picker","MicRecorder","clsx","makeStyles","Paper","InputBase","CircularProgress","green","AttachFileIcon","IconButton","MoodIcon","SendIcon","CancelIcon","ClearIcon","MicIcon","CheckCircleOutlineIcon","HighlightOffIcon","FormControlLabel","Switch","Autocomplete","isString","isEmpty","isObject","has","i18n","api","RecordingTimer","ReplyMessageContext","AuthContext","useLocalStorage","toastError","useQuickMessages","Mp3Recorder","bitRate","useStyles","theme","mainWrapper","background","display","flexDirection","alignItems","borderTop","newMessageBox","width","padding","messageInputWrapper","marginRight","borderRadius","flex","messageInput","paddingLeft","border","sendMessageIcons","color","uploadInput","viewMediaInputWrapper","position","justifyContent","backgroundColor","emojiBox","bottom","circleLoading","opacity","top","left","marginLeft","audioLoading","recorderWrapper","alignContent","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","paddingTop","paddingRight","replyginMsgContainer","overflowY","replyginMsgBody","height","whiteSpace","overflow","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageContactName","fontWeight","EmojiOptions","props","disabled","showEmoji","setShowEmoji","handleAddEmoji","classes","createElement","Fragment","component","onClick","e","prevState","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","perLine","showPreview","showSkinTones","onSelect","SignSwitch","setSignMessage","signMessage","style","label","t","labelPlacement","control","size","checked","onChange","target","name","FileInput","handleChangeMedias","disableOption","multiple","type","id","htmlFor","ActionButtons","inputMessage","loading","recording","ticketStatus","handleSendMessage","handleCancelAudio","handleUploadAudio","handleStartRecording","fontSize","CustomInput","inputRef","setInputMessage","handleInputPaste","quickMessages","setQuickMessages","options","setOptions","popupOpen","setPopupOpen","user","list","listQuickMessages","fetchData","companyId","localStorage","getItem","messages","userId","map","m","truncatedMessage","message","length","substring","value","shortcode","firstWord","charAt","indexOf","filteredOptions","filter","onKeyPress","shiftKey","key","onPaste","renderPlaceholder","setInputRef","input","focus","current","freeSolo","open","closeIcon","getOptionLabel","option","event","opt","setTimeout","scrollTop","scrollHeight","onInputChange","reason","renderInput","params","InputLabelProps","InputProps","rest","Object","assign","placeholder","multiline","maxRows","MessageInputCustom","_medias$","ticketId","medias","setMedias","setLoading","setRecording","setReplyingMessage","replyingMessage","emoji","native","files","selectedMedias","Array","from","clipboardData","handleUploadMedia","preventDefault","formData","FormData","append","forEach","media","post","err","trim","read","fromMe","mediaUrl","body","quotedMsg","navigator","mediaDevices","getUserMedia","audio","start","blob","stop","getMp3","filename","Date","getTime","renderReplyingMessage","_message$contact","contact","elevation","square"],"sources":["/Users/jucenirleonardo/Documents/GitHub/whaticket_saas/frontend/src/components/MessageInputCustom/index.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport { FormControlLabel, Switch } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { isString, isEmpty, isObject, has } from \"lodash\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  newMessageBox: {\n    background: \"#eee\",\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n}));\n\nconst EmojiOptions = (props) => {\n  const { disabled, showEmoji, setShowEmoji, handleAddEmoji } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <IconButton\n        aria-label=\"emojiPicker\"\n        component=\"span\"\n        disabled={disabled}\n        onClick={(e) => setShowEmoji((prevState) => !prevState)}\n      >\n        <MoodIcon className={classes.sendMessageIcons} />\n      </IconButton>\n      {showEmoji ? (\n        <div className={classes.emojiBox}>\n          <Picker\n            perLine={16}\n            showPreview={false}\n            showSkinTones={false}\n            onSelect={handleAddEmoji}\n          />\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nconst SignSwitch = (props) => {\n  const { width, setSignMessage, signMessage } = props;\n  if (isWidthUp(\"md\", width)) {\n    return (\n      <FormControlLabel\n        style={{ marginRight: 7, color: \"gray\" }}\n        label={i18n.t(\"messagesInput.signMessage\")}\n        labelPlacement=\"start\"\n        control={\n          <Switch\n            size=\"small\"\n            checked={signMessage}\n            onChange={(e) => {\n              setSignMessage(e.target.checked);\n            }}\n            name=\"showAllTickets\"\n            color=\"primary\"\n          />\n        }\n      />\n    );\n  }\n  return null;\n};\n\nconst FileInput = (props) => {\n  const { handleChangeMedias, disableOption } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <input\n        multiple\n        type=\"file\"\n        id=\"upload-button\"\n        disabled={disableOption()}\n        className={classes.uploadInput}\n        onChange={handleChangeMedias}\n      />\n      <label htmlFor=\"upload-button\">\n        <IconButton\n          aria-label=\"upload\"\n          component=\"span\"\n          disabled={disableOption()}\n        >\n          <AttachFileIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </label>\n    </>\n  );\n};\n\nconst ActionButtons = (props) => {\n  const {\n    inputMessage,\n    loading,\n    recording,\n    ticketStatus,\n    handleSendMessage,\n    handleCancelAudio,\n    handleUploadAudio,\n    handleStartRecording,\n  } = props;\n  const classes = useStyles();\n  if (inputMessage) {\n    return (\n      <IconButton\n        aria-label=\"sendMessage\"\n        component=\"span\"\n        onClick={handleSendMessage}\n        disabled={loading}\n      >\n        <SendIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  } else if (recording) {\n    return (\n      <div className={classes.recorderWrapper}>\n        <IconButton\n          aria-label=\"cancelRecording\"\n          component=\"span\"\n          fontSize=\"large\"\n          disabled={loading}\n          onClick={handleCancelAudio}\n        >\n          <HighlightOffIcon className={classes.cancelAudioIcon} />\n        </IconButton>\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.audioLoading} />\n          </div>\n        ) : (\n          <RecordingTimer />\n        )}\n\n        <IconButton\n          aria-label=\"sendRecordedAudio\"\n          component=\"span\"\n          onClick={handleUploadAudio}\n          disabled={loading}\n        >\n          <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n        </IconButton>\n      </div>\n    );\n  } else {\n    return (\n      <IconButton\n        aria-label=\"showRecorder\"\n        component=\"span\"\n        disabled={loading || ticketStatus !== \"open\"}\n        onClick={handleStartRecording}\n      >\n        <MicIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  }\n};\n\nconst CustomInput = (props) => {\n  const {\n    loading,\n    inputRef,\n    ticketStatus,\n    inputMessage,\n    setInputMessage,\n    handleSendMessage,\n    handleInputPaste,\n    disableOption,\n  } = props;\n  const classes = useStyles();\n  const [quickMessages, setQuickMessages] = useState([]);\n  const [options, setOptions] = useState([]);\n  const [popupOpen, setPopupOpen] = useState(false);\n\n  const { user } = useContext(AuthContext);\n\n  const { list: listQuickMessages } = useQuickMessages();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const messages = await listQuickMessages({ companyId, userId: user.id });\n      const options = messages.map((m) => {\n        let truncatedMessage = m.message;\n        if (isString(truncatedMessage) && truncatedMessage.length > 35) {\n          truncatedMessage = m.message.substring(0, 35) + \"...\";\n        }\n        return {\n          value: m.message,\n          label: `/${m.shortcode} - ${truncatedMessage}`,\n        };\n      });\n      setQuickMessages(options);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (\n      isString(inputMessage) &&\n      !isEmpty(inputMessage) &&\n      inputMessage.length > 1\n    ) {\n      const firstWord = inputMessage.charAt(0);\n      setPopupOpen(firstWord.indexOf(\"/\") > -1);\n\n      const filteredOptions = quickMessages.filter(\n        (m) => m.label.indexOf(inputMessage) > -1\n      );\n      setOptions(filteredOptions);\n    } else {\n      setPopupOpen(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputMessage]);\n\n  const onKeyPress = (e) => {\n    if (loading || e.shiftKey) return;\n    else if (e.key === \"Enter\") {\n      handleSendMessage();\n    }\n  };\n\n  const onPaste = (e) => {\n    if (ticketStatus === \"open\") {\n      handleInputPaste(e);\n    }\n  };\n\n  const renderPlaceholder = () => {\n    if (ticketStatus === \"open\") {\n      return i18n.t(\"messagesInput.placeholderOpen\");\n    }\n    return i18n.t(\"messagesInput.placeholderClosed\");\n  };\n\n  const setInputRef = (input) => {\n    if (input) {\n      input.focus();\n      inputRef.current = input;\n    }\n  };\n\n  return (\n    <div className={classes.messageInputWrapper}>\n      <Autocomplete\n        freeSolo\n        open={popupOpen}\n        id=\"grouped-demo\"\n        value={inputMessage}\n        options={options}\n        closeIcon={null}\n        getOptionLabel={(option) => {\n          if (isObject(option)) {\n            return option.label;\n          } else {\n            return option;\n          }\n        }}\n        onChange={(event, opt) => {\n          if (isObject(opt) && has(opt, \"value\")) {\n            setInputMessage(opt.value);\n            setTimeout(() => {\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\n            }, 200);\n          }\n        }}\n        onInputChange={(event, opt, reason) => {\n          if (reason === \"input\") {\n            setInputMessage(event.target.value);\n          }\n        }}\n        onPaste={onPaste}\n        onKeyPress={onKeyPress}\n        style={{ width: \"100%\" }}\n        renderInput={(params) => {\n          const { InputLabelProps, InputProps, ...rest } = params;\n          return (\n            <InputBase\n              {...params.InputProps}\n              {...rest}\n              disabled={disableOption()}\n              inputRef={setInputRef}\n              placeholder={renderPlaceholder()}\n              multiline\n              className={classes.messageInput}\n              maxRows={5}\n            />\n          );\n        }}\n      />\n    </div>\n  );\n};\n\nconst MessageInputCustom = (props) => {\n  const { ticketStatus, ticketId } = props;\n  const classes = useStyles();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const inputRef = useRef();\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  // const handleChangeInput = e => {\n  // \tif (isObject(e) && has(e, 'value')) {\n  // \t\tsetInputMessage(e.value);\n  // \t} else {\n  // \t\tsetInputMessage(e.target.value)\n  // \t}\n  // };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const disableOption = () => {\n    return loading || recording || ticketStatus !== \"open\";\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <EmojiOptions\n            disabled={disableOption()}\n            handleAddEmoji={handleAddEmoji}\n            showEmoji={showEmoji}\n            setShowEmoji={setShowEmoji}\n          />\n\n          <FileInput\n            disableOption={disableOption}\n            handleChangeMedias={handleChangeMedias}\n          />\n\n          <SignSwitch\n            width={props.width}\n            setSignMessage={setSignMessage}\n            signMessage={signMessage}\n          />\n\n          <CustomInput\n            loading={loading}\n            inputRef={inputRef}\n            ticketStatus={ticketStatus}\n            inputMessage={inputMessage}\n            setInputMessage={setInputMessage}\n            // handleChangeInput={handleChangeInput}\n            handleSendMessage={handleSendMessage}\n            handleInputPaste={handleInputPaste}\n            disableOption={disableOption}\n          />\n\n          <ActionButtons\n            inputMessage={inputMessage}\n            loading={loading}\n            recording={recording}\n            ticketStatus={ticketStatus}\n            handleSendMessage={handleSendMessage}\n            handleCancelAudio={handleCancelAudio}\n            handleUploadAudio={handleUploadAudio}\n            handleStartRecording={handleStartRecording}\n          />\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default withWidth()(MessageInputCustom);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}