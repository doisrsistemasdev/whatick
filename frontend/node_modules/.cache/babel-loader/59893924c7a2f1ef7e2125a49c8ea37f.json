{"ast":null,"code":"import _toConsumableArray from\"/Users/jucenirleonardo/Documents/GitHub/whaticket_saas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/jucenirleonardo/Documents/GitHub/whaticket_saas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import{useTheme}from\"@material-ui/core/styles\";import{BarChart,CartesianGrid,Bar,XAxis,YAxis,Label,ResponsiveContainer}from\"recharts\";import{startOfHour,parseISO,format}from\"date-fns\";import{i18n}from\"../../translate/i18n\";import Title from\"./Title\";import useTickets from\"../../hooks/useTickets\";var Chart=function Chart(){var theme=useTheme();var date=useRef(new Date().toISOString());var _useTickets=useTickets({date:date.current}),tickets=_useTickets.tickets;var _useState=useState([{time:\"01:00\",amount:0},{time:\"02:00\",amount:0},{time:\"03:00\",amount:0},{time:\"04:00\",amount:0},{time:\"05:00\",amount:0},{time:\"06:00\",amount:0},{time:\"07:00\",amount:0},{time:\"08:00\",amount:0},{time:\"09:00\",amount:0},{time:\"10:00\",amount:0},{time:\"11:00\",amount:0},{time:\"12:00\",amount:0},{time:\"13:00\",amount:0},{time:\"14:00\",amount:0},{time:\"15:00\",amount:0},{time:\"16:00\",amount:0},{time:\"17:00\",amount:0},{time:\"18:00\",amount:0},{time:\"19:00\",amount:0},{time:\"20:00\",amount:0},{time:\"21:00\",amount:0},{time:\"22:00\",amount:0},{time:\"23:00\",amount:0},{time:\"00:00\",amount:0}]),_useState2=_slicedToArray(_useState,2),chartData=_useState2[0],setChartData=_useState2[1];useEffect(function(){setChartData(function(prevState){var aux=_toConsumableArray(prevState);aux.forEach(function(a){tickets.forEach(function(ticket){format(startOfHour(parseISO(ticket.createdAt)),\"HH:mm\")===a.time&&a.amount++;});});return aux;});},[tickets]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Title,null,\"\".concat(i18n.t(\"dashboard.charts.perDay.title\")).concat(tickets.length)),/*#__PURE__*/React.createElement(ResponsiveContainer,null,/*#__PURE__*/React.createElement(BarChart,{data:chartData,barSize:40,width:730,height:250,margin:{top:16,right:16,bottom:0,left:24}},/*#__PURE__*/React.createElement(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/React.createElement(XAxis,{dataKey:\"time\",stroke:theme.palette.text.secondary}),/*#__PURE__*/React.createElement(YAxis,{type:\"number\",allowDecimals:false,stroke:theme.palette.text.secondary},/*#__PURE__*/React.createElement(Label,{angle:270,position:\"left\",style:{textAnchor:\"middle\",fill:theme.palette.text.primary}},\"Tickets\")),/*#__PURE__*/React.createElement(Bar,{dataKey:\"amount\",fill:theme.palette.primary.main}))));};export default Chart;","map":null,"metadata":{},"sourceType":"module"}