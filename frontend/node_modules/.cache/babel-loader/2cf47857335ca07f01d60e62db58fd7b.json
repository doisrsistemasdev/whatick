{"ast":null,"code":"import _slicedToArray from\"/Users/jucenirleonardo/Documents/GitHub/whaticket_saas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles,TextField,Grid,Container}from\"@material-ui/core\";import{Formik,Form,FastField,FieldArray}from\"formik\";import{isArray}from\"lodash\";import NumberFormat from\"react-number-format\";import ButtonWithSpinner from\"../ButtonWithSpinner\";var useStyles=makeStyles(function(theme){return{root:{width:\"100%\"},fullWidth:{width:\"100%\"},textfield:{width:\"100%\"},row:{paddingTop:theme.spacing(2),paddingBottom:theme.spacing(2)},control:{paddingRight:theme.spacing(1),paddingLeft:theme.spacing(1)},buttonContainer:{textAlign:\"right\",padding:theme.spacing(1)}};});function SchedulesForm(props){var initialValues=props.initialValues,onSubmit=props.onSubmit,loading=props.loading,labelSaveButton=props.labelSaveButton;var classes=useStyles();var _useState=useState([{weekday:\"Segunda-feira\",weekdayEn:\"monday\",startTime:\"\",endTime:\"\"},{weekday:\"Terça-feira\",weekdayEn:\"tuesday\",startTime:\"\",endTime:\"\"},{weekday:\"Quarta-feira\",weekdayEn:\"wednesday\",startTime:\"\",endTime:\"\"},{weekday:\"Quinta-feira\",weekdayEn:\"thursday\",startTime:\"\",endTime:\"\"},{weekday:\"Sexta-feira\",weekdayEn:\"friday\",startTime:\"\",endTime:\"\"},{weekday:\"Sábado\",weekdayEn:\"saturday\",startTime:\"\",endTime:\"\"},{weekday:\"Domingo\",weekdayEn:\"sunday\",startTime:\"\",endTime:\"\"}]),_useState2=_slicedToArray(_useState,2),schedules=_useState2[0],setSchedules=_useState2[1];useEffect(function(){if(isArray(initialValues)&&initialValues.length>0){setSchedules(initialValues);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[initialValues]);var handleSubmit=function handleSubmit(data){onSubmit(data);};return/*#__PURE__*/React.createElement(Formik,{enableReinitialize:true,className:classes.fullWidth,initialValues:{schedules:schedules},onSubmit:function onSubmit(_ref){var schedules=_ref.schedules;return setTimeout(function(){handleSubmit(schedules);},500);}},function(_ref2){var values=_ref2.values;return/*#__PURE__*/React.createElement(Form,{className:classes.fullWidth},/*#__PURE__*/React.createElement(FieldArray,{name:\"schedules\",render:function render(arrayHelpers){return/*#__PURE__*/React.createElement(Grid,{spacing:4,container:true},values.schedules.map(function(item,index){return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(FastField,{as:TextField,label:\"Dia da Semana\",name:\"schedules[\".concat(index,\"].weekday\"),disabled:true,variant:\"outlined\",style:{marginRight:\"3.2%\",width:\"30%\"},margin:\"dense\"}),/*#__PURE__*/React.createElement(FastField,{name:\"schedules[\".concat(index,\"].startTime\")},function(_ref3){var field=_ref3.field;return/*#__PURE__*/React.createElement(NumberFormat,Object.assign({label:\"Hora de Inicial\"},field,{variant:\"outlined\",margin:\"dense\",customInput:TextField,format:\"##:##\",style:{marginRight:\"3.2%\",width:\"30%\"}}));}),/*#__PURE__*/React.createElement(FastField,{name:\"schedules[\".concat(index,\"].endTime\")},function(_ref4){var field=_ref4.field;return/*#__PURE__*/React.createElement(NumberFormat,Object.assign({label:\"Hora de Final\"},field,{variant:\"outlined\",margin:\"dense\",customInput:TextField,format:\"##:##\",style:{marginRight:\"3.2%\",width:\"30%\"}}));}));}));}}),/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\",marginTop:\"2%\"},className:classes.buttonContainer},/*#__PURE__*/React.createElement(ButtonWithSpinner,{loading:loading,type:\"submit\",color:\"primary\",variant:\"contained\"},labelSaveButton!==null&&labelSaveButton!==void 0?labelSaveButton:\"Salvar\")));});}export default SchedulesForm;","map":null,"metadata":{},"sourceType":"module"}