{"ast":null,"code":"var _jsxFileName = \"/Users/jucenirleonardo/Documents/GitHub/whaticket_saas/frontend/src/components/NewTicketModal/index.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\nimport { toast } from \"react-toastify\";\nconst filter = createFilterOptions({\n  trim: true\n});\nconst NewTicketModal = _ref => {\n  var _user$queues;\n  let {\n    modalOpen,\n    onClose,\n    initialContact\n  } = _ref;\n  const [options, setOptions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const [newContact, setNewContact] = useState({});\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const {\n    user\n  } = useContext(AuthContext);\n  useEffect(() => {\n    if ((initialContact === null || initialContact === void 0 ? void 0 : initialContact.id) !== undefined) {\n      setOptions([initialContact]);\n      setSelectedContact(initialContact);\n    }\n  }, [initialContact]);\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const {\n            data\n          } = await api.get(\"contacts\", {\n            params: {\n              searchParam\n            }\n          });\n          setOptions(data.contacts);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setSelectedContact(null);\n  };\n  const handleSaveTicket = async contactId => {\n    if (!contactId) return;\n    if (selectedQueue === \"\" && user.profile !== 'admin') {\n      toast.error(\"Selecione uma fila\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const queueId = selectedQueue !== \"\" ? selectedQueue : null;\n      const {\n        data: ticket\n      } = await api.post(\"/tickets\", {\n        contactId: contactId,\n        queueId,\n        userId: user.id,\n        status: \"open\"\n      });\n      onClose(ticket);\n    } catch (err) {\n      toastError(err);\n    }\n    setLoading(false);\n  };\n  const handleSelectOption = (e, newValue) => {\n    if (newValue === null || newValue === void 0 ? void 0 : newValue.number) {\n      setSelectedContact(newValue);\n    } else if (newValue === null || newValue === void 0 ? void 0 : newValue.name) {\n      setNewContact({\n        name: newValue.name\n      });\n      setContactModalOpen(true);\n    }\n  };\n  const handleCloseContactModal = () => {\n    setContactModalOpen(false);\n  };\n  const handleAddNewContactTicket = contact => {\n    handleSaveTicket(contact.id);\n  };\n  const createAddContactOption = (filterOptions, params) => {\n    const filtered = filter(filterOptions, params);\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n      filtered.push({\n        name: `${params.inputValue}`\n      });\n    }\n    return filtered;\n  };\n  const renderOption = option => {\n    if (option.number) {\n      return `${option.name} - ${option.number}`;\n    } else {\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n    }\n  };\n  const renderOptionLabel = option => {\n    if (option.number) {\n      return `${option.name} - ${option.number}`;\n    } else {\n      return `${option.name}`;\n    }\n  };\n  const renderContactAutocomplete = () => {\n    if (initialContact === undefined || initialContact.id === undefined) {\n      return /*#__PURE__*/React.createElement(Grid, {\n        xs: 12,\n        item: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Autocomplete, {\n        fullWidth: true,\n        options: options,\n        loading: loading,\n        clearOnBlur: true,\n        autoHighlight: true,\n        freeSolo: true,\n        clearOnEscape: true,\n        getOptionLabel: renderOptionLabel,\n        renderOption: renderOption,\n        filterOptions: createAddContactOption,\n        onChange: (e, newValue) => handleSelectOption(e, newValue),\n        renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n          label: i18n.t(\"newTicketModal.fieldLabel\"),\n          variant: \"outlined\",\n          autoFocus: true,\n          onChange: e => setSearchParam(e.target.value),\n          onKeyPress: e => {\n            if (loading || !selectedContact) return;else if (e.key === \"Enter\") {\n              handleSaveTicket(selectedContact.id);\n            }\n          },\n          InputProps: {\n            ...params.InputProps,\n            endAdornment: /*#__PURE__*/React.createElement(React.Fragment, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 11\n              }\n            }, loading ? /*#__PURE__*/React.createElement(CircularProgress, {\n              color: \"inherit\",\n              size: 20,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 13\n              }\n            }) : null, params.InputProps.endAdornment)\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 8\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 6\n        }\n      }));\n    }\n    return null;\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ContactModal, {\n    open: contactModalOpen,\n    initialValues: newContact,\n    onClose: handleCloseContactModal,\n    onSave: handleAddNewContactTicket,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Dialog, {\n    open: modalOpen,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }\n  }, i18n.t(\"newTicketModal.title\")), /*#__PURE__*/React.createElement(DialogContent, {\n    dividers: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    style: {\n      width: 300\n    },\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 6\n    }\n  }, renderContactAutocomplete(), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    fullWidth: true,\n    displayEmpty: true,\n    variant: \"outlined\",\n    value: selectedQueue,\n    onChange: e => {\n      setSelectedQueue(e.target.value);\n    },\n    MenuProps: {\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"left\"\n      },\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"left\"\n      },\n      getContentAnchorEl: null\n    },\n    renderValue: () => {\n      if (selectedQueue === \"\") {\n        return \"Selecione uma fila\";\n      }\n      const queue = user.queues.find(q => q.id === selectedQueue);\n      return queue.name;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 8\n    }\n  }, ((_user$queues = user.queues) === null || _user$queues === void 0 ? void 0 : _user$queues.length) > 0 && user.queues.map((queue, key) => /*#__PURE__*/React.createElement(MenuItem, {\n    dense: true,\n    key: key,\n    value: queue.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListItemText, {\n    primary: queue.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 12\n    }\n  }))))))), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClose,\n    color: \"secondary\",\n    disabled: loading,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 6\n    }\n  }, i18n.t(\"newTicketModal.buttons.cancel\")), /*#__PURE__*/React.createElement(ButtonWithSpinner, {\n    variant: \"contained\",\n    type: \"button\",\n    disabled: !selectedContact,\n    onClick: () => handleSaveTicket(selectedContact.id),\n    color: \"primary\",\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 6\n    }\n  }, i18n.t(\"newTicketModal.buttons.ok\")))));\n};\nexport default NewTicketModal;","map":{"version":3,"names":["React","useState","useEffect","useContext","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","Autocomplete","createFilterOptions","CircularProgress","i18n","api","ButtonWithSpinner","ContactModal","toastError","AuthContext","Grid","ListItemText","MenuItem","Select","toast","filter","trim","NewTicketModal","_ref","_user$queues","modalOpen","onClose","initialContact","options","setOptions","loading","setLoading","searchParam","setSearchParam","selectedContact","setSelectedContact","selectedQueue","setSelectedQueue","newContact","setNewContact","contactModalOpen","setContactModalOpen","user","id","undefined","length","delayDebounceFn","setTimeout","fetchContacts","data","get","params","contacts","err","clearTimeout","handleClose","handleSaveTicket","contactId","profile","error","queueId","ticket","post","userId","status","handleSelectOption","e","newValue","number","name","handleCloseContactModal","handleAddNewContactTicket","contact","createAddContactOption","filterOptions","filtered","inputValue","push","renderOption","option","t","renderOptionLabel","renderContactAutocomplete","createElement","xs","item","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","fullWidth","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","getOptionLabel","onChange","renderInput","Object","assign","label","variant","autoFocus","target","value","onKeyPress","key","InputProps","endAdornment","Fragment","color","size","open","initialValues","onSave","dividers","style","width","container","spacing","displayEmpty","MenuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","renderValue","queue","queues","find","q","map","dense","primary","onClick","disabled","type"],"sources":["/Users/jucenirleonardo/Documents/GitHub/whaticket_saas/frontend/src/components/NewTicketModal/index.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\nimport { toast } from \"react-toastify\";\n\nconst filter = createFilterOptions({\n\ttrim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose, initialContact }) => {\n\n\tconst [options, setOptions] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedContact, setSelectedContact] = useState(null);\n\tconst [selectedQueue, setSelectedQueue] = useState(\"\");\n\tconst [newContact, setNewContact] = useState({});\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tif (initialContact?.id !== undefined) {\n\t\t\tsetOptions([initialContact]);\n\t\t\tsetSelectedContact(initialContact);\n\t\t}\n\t}, [initialContact]);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchContacts = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.contacts);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchContacts();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedContact(null);\n\t};\n\n\tconst handleSaveTicket = async contactId => {\n\t\tif (!contactId) return;\n\t\tif (selectedQueue === \"\" && user.profile !== 'admin') {\n\t\t\ttoast.error(\"Selecione uma fila\");\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst queueId = selectedQueue !== \"\" ? selectedQueue : null;\n\t\t\tconst { data: ticket } = await api.post(\"/tickets\", {\n\t\t\t\tcontactId: contactId,\n\t\t\t\tqueueId,\n\t\t\t\tuserId: user.id,\n\t\t\t\tstatus: \"open\",\n\t\t\t});\n\t\t\tonClose(ticket);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetLoading(false);\n\t};\n\n\tconst handleSelectOption = (e, newValue) => {\n\t\tif (newValue?.number) {\n\t\t\tsetSelectedContact(newValue);\n\t\t} else if (newValue?.name) {\n\t\t\tsetNewContact({ name: newValue.name });\n\t\t\tsetContactModalOpen(true);\n\t\t}\n\t};\n\n\tconst handleCloseContactModal = () => {\n\t\tsetContactModalOpen(false);\n\t};\n\n\tconst handleAddNewContactTicket = contact => {\n\t\thandleSaveTicket(contact.id);\n\t};\n\n\tconst createAddContactOption = (filterOptions, params) => {\n\t\tconst filtered = filter(filterOptions, params);\n\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n\t\t\tfiltered.push({\n\t\t\t\tname: `${params.inputValue}`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst renderOption = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n\t\t}\n\t};\n\n\tconst renderOptionLabel = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${option.name}`;\n\t\t}\n\t};\n\n\tconst renderContactAutocomplete = () => {\n\t\tif (initialContact === undefined || initialContact.id === undefined) {\n\t\t\treturn (\n\t\t\t\t<Grid xs={12} item>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tclearOnEscape\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\n\t\t\t\t\t\trenderOption={renderOption}\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\thandleSaveTicket(selectedContact.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t)\n\t\t}\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContactModal\n\t\t\t\topen={contactModalOpen}\n\t\t\t\tinitialValues={newContact}\n\t\t\t\tonClose={handleCloseContactModal}\n\t\t\t\tonSave={handleAddNewContactTicket}\n\t\t\t></ContactModal>\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"newTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Grid style={{ width: 300 }} container spacing={2}>\n\t\t\t\t\t\t{renderContactAutocomplete()}\n\t\t\t\t\t\t<Grid xs={12} item>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tdisplayEmpty\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={selectedQueue}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetSelectedQueue(e.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trenderValue={() => {\n\t\t\t\t\t\t\t\t\tif (selectedQueue === \"\") {\n\t\t\t\t\t\t\t\t\t\treturn \"Selecione uma fila\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconst queue = user.queues.find(q => q.id === selectedQueue)\n\t\t\t\t\t\t\t\t\treturn queue.name\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{user.queues?.length > 0 &&\n\t\t\t\t\t\t\t\t\tuser.queues.map((queue, key) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem dense key={key} value={queue.id}>\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={!selectedContact}\n\t\t\t\t\t\tonClick={() => handleSaveTicket(selectedContact.id)}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nexport default NewTicketModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}