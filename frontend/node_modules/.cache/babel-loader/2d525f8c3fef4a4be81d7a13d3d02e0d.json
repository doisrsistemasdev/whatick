{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nconst useTickets = _ref => {\n  let {\n    searchParam,\n    tags,\n    users,\n    pageNumber,\n    status,\n    date,\n    updatedAt,\n    showAll,\n    queueIds,\n    withUnreadMessages\n  } = _ref;\n  const [loading, setLoading] = useState(true);\n  const [hasMore, setHasMore] = useState(false);\n  const [tickets, setTickets] = useState([]);\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTickets = async () => {\n        try {\n          const {\n            data\n          } = await api.get(\"/tickets\", {\n            params: {\n              searchParam,\n              pageNumber,\n              tags,\n              users,\n              status,\n              date,\n              updatedAt,\n              showAll,\n              queueIds,\n              withUnreadMessages\n            }\n          });\n          setTickets(data.tickets);\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTickets();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, tags, users, pageNumber, status, date, updatedAt, showAll, queueIds, withUnreadMessages]);\n  return {\n    tickets,\n    loading,\n    hasMore\n  };\n};\nexport default useTickets;","map":{"version":3,"names":["useState","useEffect","toastError","api","useTickets","_ref","searchParam","tags","users","pageNumber","status","date","updatedAt","showAll","queueIds","withUnreadMessages","loading","setLoading","hasMore","setHasMore","tickets","setTickets","delayDebounceFn","setTimeout","fetchTickets","data","get","params","err","clearTimeout"],"sources":["/Users/jucenirleonardo/Documents/GitHub/whaticket_saas/frontend/src/hooks/useTickets/index.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n  searchParam,\n  tags,\n  users,\n  pageNumber,\n  status,\n  date,\n  updatedAt,\n  showAll,\n  queueIds,\n  withUnreadMessages,\n}) => {\n  const [loading, setLoading] = useState(true);\n  const [hasMore, setHasMore] = useState(false);\n  const [tickets, setTickets] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTickets = async () => {\n        try {\n          const { data } = await api.get(\"/tickets\", {\n            params: {\n              searchParam,\n              pageNumber,\n              tags,\n              users,\n              status,\n              date,\n              updatedAt,\n              showAll,\n              queueIds,\n              withUnreadMessages,\n            },\n          });\n          setTickets(data.tickets);\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTickets();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    tags,\n    users,\n    pageNumber,\n    status,\n    date,\n    updatedAt,\n    showAll,\n    queueIds,\n    withUnreadMessages,\n  ]);\n\n  return { tickets, loading, hasMore };\n};\n\nexport default useTickets;\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,UAAU,MAAM,yBAAyB;AAEhD,OAAOC,GAAG,MAAM,oBAAoB;AAEpC,MAAMC,UAAU,GAAGC,IAAA,IAWb;EAAA,IAXc;IAClBC,WAAW;IACXC,IAAI;IACJC,KAAK;IACLC,UAAU;IACVC,MAAM;IACNC,IAAI;IACJC,SAAS;IACTC,OAAO;IACPC,QAAQ;IACRC;EACF,CAAC,GAAAV,IAAA;EACC,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACoB,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAE1CC,SAAS,CAAC,MAAM;IACdgB,UAAU,CAAC,IAAI,CAAC;IAChB,MAAMK,eAAe,GAAGC,UAAU,CAAC,MAAM;MACvC,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;QAC/B,IAAI;UACF,MAAM;YAAEC;UAAK,CAAC,GAAG,MAAMtB,GAAG,CAACuB,GAAG,CAAC,UAAU,EAAE;YACzCC,MAAM,EAAE;cACNrB,WAAW;cACXG,UAAU;cACVF,IAAI;cACJC,KAAK;cACLE,MAAM;cACNC,IAAI;cACJC,SAAS;cACTC,OAAO;cACPC,QAAQ;cACRC;YACF;UACF,CAAC,CAAC;UACFM,UAAU,CAACI,IAAI,CAACL,OAAO,CAAC;UACxBD,UAAU,CAACM,IAAI,CAACP,OAAO,CAAC;UACxBD,UAAU,CAAC,KAAK,CAAC;QACnB,CAAC,CAAC,OAAOW,GAAG,EAAE;UACZX,UAAU,CAAC,KAAK,CAAC;UACjBf,UAAU,CAAC0B,GAAG,CAAC;QACjB;MACF,CAAC;MACDJ,YAAY,CAAC,CAAC;IAChB,CAAC,EAAE,GAAG,CAAC;IACP,OAAO,MAAMK,YAAY,CAACP,eAAe,CAAC;EAC5C,CAAC,EAAE,CACDhB,WAAW,EACXC,IAAI,EACJC,KAAK,EACLC,UAAU,EACVC,MAAM,EACNC,IAAI,EACJC,SAAS,EACTC,OAAO,EACPC,QAAQ,EACRC,kBAAkB,CACnB,CAAC;EAEF,OAAO;IAAEK,OAAO;IAAEJ,OAAO;IAAEE;EAAQ,CAAC;AACtC,CAAC;AAED,eAAed,UAAU"},"metadata":{},"sourceType":"module"}